{# templates/index.html #}
{% extends 'base.html' %}

{% block title %}é¦–é  | æ•¸å­¸ç·šä¸Šè¨˜äº‹æœ¬{% endblock %}

{% block head_extra %}
  {{ super() }}
  <!-- Playfair Display å­—ä½“ -->
  <link
    href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&display=swap"
    rel="stylesheet"
  />
  <style>
    /* â€”â€” è‹±é›„åŒº â€”â€” */
    .index-hero {
      display: grid;
      grid-template-columns: 1fr 1fr;
      width: 100vw; height: 70vh; min-height: 500px;
      margin: 0; padding: 0;
      overflow: hidden; position: relative;
    }
    .index-hero .tile {
      background-size: cover;
      background-position: center;
    }
    .index-hero .hero-overlay {
      position: absolute; inset: 0;
      background:
        repeating-linear-gradient(
          90deg,
          rgba(255,255,255,0.15),
          rgba(255,255,255,0.15) 12px,
          transparent 12px,
          transparent 24px
        );
      z-index: 1;
      pointer-events: none;
    }
    .hero-text-left, .hero-text-right {
      position: absolute; top: 50%; transform: translateY(-50%);
      z-index: 2; text-align: center; pointer-events: none;
    }
    .hero-text-left {
      left: 30%;
      animation: slideInLeft 1s ease-out forwards 0.5s,
                 convergeLeft 1s ease-in-out forwards 2s;
    }
    .hero-text-right {
      right: 30%; transform: translate(50%,-50%);
      animation: slideInRight 1s ease-out forwards 0.5s,
                 convergeRight 1s ease-in-out forwards 2s;
    }
    .hero-text-left h1, .hero-text-right h1 {
      font-family: 'Playfair Display', serif;
      font-size: 3rem; color: #fff;
      text-shadow: 2px 2px 8px rgba(0,0,0,0.6),
                   -2px -2px 8px rgba(255,255,255,0.7);
      margin: 0;
    }
    .hero-text-left p, .hero-text-right p {
      margin: .5rem 0 0; font-size: 1.5rem; color: #fff;
    }
    @keyframes slideInLeft {
      from { opacity: 0; transform: translateX(-100%) translateY(-50%); }
      to   { opacity: 1; transform: translateX(-50%) translateY(-50%); }
    }
    @keyframes slideInRight {
      from { opacity: 0; transform: translateX(100%) translateY(-50%); }
      to   { opacity: 1; transform: translateX(50%) translateY(-50%); }
    }
    @keyframes convergeLeft  { from { left: 30%; } to { left: 35%; } }
    @keyframes convergeRight { from { right:30%; } to { right:35%; } }

    /* â€”â€” åŠŸèƒ½å¡ç‰‡ & å®¹å™¨èƒŒæ™¯ â€”â€” */
    .feature-cards {
      position: relative;    /* ä¸º .bottom-bg æä¾›å®šä½ä¸Šä¸‹æ–‡ */
      top: -4rem;            /* å‘ä¸Šé¡¶å‡ºï¼Œä¸è‹±é›„åŒºå‘¼åº” */
      z-index: 5;
      margin-bottom: 4rem;   /* ç»™åº•éƒ¨èƒŒæ™¯ç•™ç©ºé—´ */
    }
    .feature-cards .card {
      position: relative;
      z-index: 10;           /* å¡ç‰‡æ°¸è¿œåœ¨èƒŒæ™¯ä¹‹ä¸Š */
    }

    /* â€”â€” ä¸‹åŠéƒ¨é»‘æ¿èƒŒæ™¯ â€”â€” */
    .bottom-bg {
      position: absolute;
      left: 0; right: 0;
      /* ä»å®¹å™¨é¡¶éƒ¨å¾€ä¸‹ 50pxï¼Œä¼¸å…¥å¡ç‰‡å†…éƒ¨ä¸€ç‚¹ */
      top: 50px;
      /* è¶³å¤Ÿé«˜ä»¥è¦†ç›–æ‰€æœ‰ä¸‹æ–¹ç©ºç™½ */
      height: calc(100% + 50px);
      background:
        url('{{ url_for("static", filename="images/blackboard.jpg") }}')
        center/cover no-repeat;
      opacity: 0.7;
      animation: fadePulse 8s ease-in-out infinite alternate;
      z-index: 1;
    }
    @keyframes fadePulse {
      from { opacity: 0.65; }
      to   { opacity: 0.8; }
    }
  </style>
{% endblock %}

{% block hero %}
  <div class="index-hero">
    <div class="tile"
         style="background-image: url('{{ url_for('static', filename='images/living1.png') }}')"></div>
    <div class="tile"
         style="background-image: url('{{ url_for('static', filename='images/living2.png') }}')"></div>
    <div class="hero-overlay"></div>
    <div class="hero-text-left">
      <h1>{{ hero_title or 'æ‰¾å°‹ä½ çš„æ•¸å­¸éˆæ„Ÿ' }}</h1>
      <p>{{ hero_subtitle or 'åœ¨é€™è£¡æ•æ‰æ¯ä¸€æ¬¡æ€ç¶­çš„é–ƒå…‰' }}</p>
    </div>
    <div class="hero-text-right">
      <h1>æ¢ç´¢å®‡å®™çš„èªè¨€</h1>
      <p>åœ¨å…¬å¼ä¸­å°‹æ‰¾ç¾çš„å¾‹å‹•</p>
    </div>
  </div>
{% endblock %}

{% block content %}
  <div class="container feature-cards">
    <div class="row text-center gy-4">
      <!-- ç­†è¨˜åˆ—è¡¨ -->
      <div class="col-md-4">
        <div class="card h-100 shadow-sm">
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">ğŸ“„ ç­†è¨˜åˆ—è¡¨</h5>
            <p class="card-text">å‰å¾€ç€è¦½ã€ç®¡ç†ä½ æ‰€æœ‰çš„ç­†è¨˜</p>
            <a href="{{ url_for('note_list') }}"
               class="btn-slanted mt-auto"
               data-text="å‰å¾€"></a>

            </a>
          </div>
        </div>
      </div>
      <!-- æ–°å¢ç­†è¨˜ -->
      <div class="col-md-4">
        <div class="card h-100 shadow-sm">
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">âœï¸ æ–°å¢ç­†è¨˜</h5>
            <p class="card-text">è¨˜éŒ„æ–°çš„æ•¸å­¸éˆæ„Ÿèˆ‡å…¬å¼</p>
            <a href="{{ url_for('note_edit') }}"
               class="btn-slanted mt-auto"
               data-text="é–‹å§‹"></a>

            </a>
          </div>
        </div>
      </div>
      <!-- æœå°‹ç­†è¨˜ -->
      <div class="col-md-4">
        <div class="card h-100 shadow-sm">
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">ğŸ” æœå°‹ç­†è¨˜</h5>
            <p class="card-text">å¿«é€Ÿæ‰¾åˆ°ç‰¹å®šé—œéµè©</p>
            <form method="get" action="{{ url_for('note_list') }}" class="d-flex mt-auto">
              <input type="search" name="q"
                     class="form-control me-2"
                     placeholder="è¼¸å…¥é—œéµå­—â€¦">
             <button type="submit"
             class="btn-slanted mt-auto"
             data-text="æœå°‹"></button>

            </form>
          </div>
        </div>
      </div>
    </div>

    
    <div class="bottom-bg"></div>
  </div>
{% endblock %}
